{"version":3,"sources":["BooksAPI.js","Book.js","bookShelf.js","Home.js","SearchList.js","Search.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","update","book","shelf","fetch","id","method","body","JSON","stringify","then","res","json","Book","onUpdate","useState","state","setState","className","style","width","height","backgroundImage","imageLinks","thumbnail","onChange","e","value","target","disabled","title","authors","BookShelf","books","concat","map","Home","to","SearchList","Search","newArray","setNewArray","type","placeholder","a","query","maxResults","BooksAPI","data","error","b","filter","r","getSearch","App","setBooks","useEffect","getBooks","handleUpdateBooks","bookId","getUpdatedBooks","exact","path","element","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iSAAMA,EAAM,wCAERC,EAAQC,aAAaD,MAEpBA,IAAOA,EAAQC,aAAaD,MAAQE,KAAKC,SAASC,SAAS,IAAIC,QAAQ,IAE5E,IAAMC,EAAU,CACdC,OAAQ,mBACRC,cAAeR,GAaJS,EAAS,SAACC,EAAMC,GAAP,OACpBC,MAAM,GAAD,OAAIb,EAAJ,kBAAiBW,EAAKG,IAAM,CAC/BC,OAAQ,MACRR,QAAQ,2BACHA,GADE,IAEL,eAAgB,qBAElBS,KAAMC,KAAKC,UAAU,CAAEN,YACtBO,MAAK,SAACC,GAAD,OAASA,EAAIC,W,eCeRC,EA1CF,SAAC,GAAwB,IAAtBX,EAAqB,EAArBA,KAAMY,EAAe,EAAfA,SAAe,EACTC,mBAASb,EAAKC,MAAQD,EAAKC,MAAQ,QAD1B,mBAC5Ba,EAD4B,KACrBC,EADqB,KASnC,OACE,6BACE,sBAAKC,UAAU,OAAf,UACE,sBAAKA,UAAU,WAAf,UACE,qBACEA,UAAU,aACVC,MAAO,CACLC,MAAO,IACPC,OAAQ,IACRC,gBAAgB,QAAD,OACbpB,EAAKqB,WAAWC,WAAatB,EAAKqB,WAAWC,UADhC,SAKnB,qBAAKN,UAAU,qBAAf,SACE,yBAAQO,SAtBQ,SAACC,GACzB,IAAMC,EAAQD,EAAEE,OAAOD,MACvBV,EAASU,GAETb,EAASZ,EAAMyB,IAkB8BA,MAAOX,EAA5C,UACE,wBAAQW,MAAM,OAAOE,UAAQ,EAA7B,wBAGA,wBAAQF,MAAM,mBAAd,+BACA,wBAAQA,MAAM,aAAd,0BACA,wBAAQA,MAAM,OAAd,kBACA,wBAAQA,MAAM,OAAd,0BAIN,qBAAKT,UAAU,aAAf,SAA6BhB,EAAK4B,QAClC,qBAAKZ,UAAU,eAAf,SAA+BhB,EAAK6B,SAAL,YAAoB7B,EAAK6B,iBChBjDC,EApBG,SAAC,GAAgC,IAA9B7B,EAA6B,EAA7BA,MAAO8B,EAAsB,EAAtBA,MAAOnB,EAAe,EAAfA,SAGjC,OACE,sBAAKI,UAAU,YAAf,UACE,oBAAIA,UAAU,kBAAd,SAAiCf,IACjC,qBAAKe,UAAU,kBAAf,SACE,oBAAIA,UAAU,aAAd,SANe,GAOCgB,OAAOD,GAAOE,KAAI,SAACjC,GAC/B,OAAIC,IAAUD,EAAKC,MACV,cAAC,EAAD,CAAMD,KAAMA,EAAoBY,SAAUA,GAAnBZ,EAAKG,IAG9B,cCaJ+B,EAzBF,SAAC,GAAyB,IAAvBH,EAAsB,EAAtBA,MAAOnB,EAAe,EAAfA,SACrB,OACE,sBAAKI,UAAU,aAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,2CAEF,qBAAKA,UAAU,qBAAf,SACE,gCACE,cAAC,EAAD,CACEf,MAAM,mBACN8B,MAAOA,EACPnB,SAAUA,IAEZ,cAAC,EAAD,CAAWX,MAAM,aAAa8B,MAAOA,EAAOnB,SAAUA,IACtD,cAAC,EAAD,CAAWX,MAAM,OAAO8B,MAAOA,EAAOnB,SAAUA,IAEhD,qBAAKI,UAAU,cAAf,SACE,cAAC,IAAD,CAAMmB,GAAG,UAAT,mCCJGC,EAdI,SAAC,GAAuB,IAArB3B,EAAoB,EAApBA,IAAKG,EAAe,EAAfA,SACzB,OACE,oBAAII,UAAU,aAAd,SACGP,EAAIwB,KAAI,SAACjC,GACR,OAAIA,EACK,cAAC,EAAD,CAAMA,KAAMA,EAAoBY,SAAUA,GAAnBZ,EAAKG,IAG9B,SC4CAkC,EAjDA,SAAC,GAAyB,IAAvBzB,EAAsB,EAAtBA,SAAUmB,EAAY,EAAZA,MAAY,EACNlB,mBAAS,IADH,mBAC/ByB,EAD+B,KACrBC,EADqB,KA4BtC,OACE,sBAAKvB,UAAU,eAAf,UACE,sBAAKA,UAAU,mBAAf,UACE,cAAC,IAAD,CAAMmB,GAAG,IAAInB,UAAU,eAAvB,mBAGA,qBAAKA,UAAU,6BAAf,SACE,uBACEwB,KAAK,OACLC,YAAY,mCACZlB,SApCW,SAACE,IACL,uCAAG,4BAAAiB,EAAA,0DACZjB,EAAMC,OAAOD,MADD,gCLuBCkB,EKrBmBlB,EAAMC,OAAOD,MLqBzBmB,OKrBJC,ELsBxB3C,MAAM,GAAD,OAAIb,EAAJ,WAAkB,CACrBe,OAAQ,OACRR,QAAQ,2BACHA,GADE,IAEL,eAAgB,qBAElBS,KAAMC,KAAKC,UAAU,CAAEoC,QAAOC,iBAE7BpC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACsC,GAAD,OAAUA,EAAKf,SKjCH,QAERtB,EAFQ,QAGLsC,MAYPR,EAAY,KAXZ9B,EAAIwB,KAAI,SAACjC,GAOP,OANA+B,EAAME,KAAI,SAACe,GAIT,OAHIhD,EAAKG,KAAO6C,EAAE7C,KAChBH,EAAKC,MAAQ+C,EAAE/C,OAEV,MAEF,MAETsC,EAAY9B,EAAIwC,QAAO,SAACC,GAAD,OAAOA,EAAE7B,YAAc6B,EAAEtB,OAASsB,EAAErB,aAb/C,sBAkBdU,EAAY,IAlBE,iCLuBA,IAACI,EAAOC,IKvBR,OAAH,qDAsBfO,WAiBE,qBAAKnC,UAAU,uBAAf,SACE,cAAC,EAAD,CAAYP,IAAK6B,EAAU1B,SAAUA,UCC9BwC,MA1Cf,WAAgB,IAAD,EACavC,mBAAS,IADtB,mBACNkB,EADM,KACCsB,EADD,KAGbC,qBAAU,YACM,uCAAG,4BAAAZ,EAAA,sENMnBxC,MAAM,GAAD,OAAIb,EAAJ,UAAiB,CAAEO,YACrBY,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACsC,GAAD,OAAUA,EAAKf,SMRJ,OACTtB,EADS,OAEf4C,EAAS5C,GAFM,2CAAH,qDAKd8C,KACC,IAEH,IAAMC,EAAoB,SAACxD,EAAMC,IACV,uCAAG,8BAAAyC,EAAA,sEAChBG,EAAgB7C,EAAMC,GADN,uBNTRwD,EMWiBzD,EAAKG,GNVxCD,MAAM,GAAD,OAAIb,EAAJ,kBAAiBoE,GAAU,CAAE7D,YAC/BY,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACsC,GAAD,OAAUA,EAAK9C,QMMG,OAEhBS,EAFgB,OAGhB6B,EAAWP,EAAMkB,QAAO,SAACD,GAAD,OAAOA,EAAE7C,KAAOM,EAAIN,MAClDkD,EAASf,EAASN,OAAOvB,IAJH,iCNTT,IAACgD,IMSQ,OAAH,qDAOrBC,IAGF,OACE,qBAAK1C,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACE2C,OAAK,EACLC,KAAK,UACLC,QAAS,cAAC,EAAD,CAAQjD,SAAU4C,EAAmBzB,MAAOA,MAGvD,cAAC,IAAD,CACE4B,OAAK,EACLC,KAAK,IACLC,QAAS,cAAC,EAAD,CAAM9B,MAAOA,EAAOnB,SAAU4C,YCpCjDM,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.b22eafc0.chunk.js","sourcesContent":["const api = \"https://reactnd-books-api.udacity.com\";\r\n\r\nlet token = localStorage.token;\r\n\r\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\r\n\r\nconst headers = {\r\n  Accept: \"application/json\",\r\n  Authorization: token,\r\n};\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n    .then((res) => res.json())\r\n    .then((data) => data.book);\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books);\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ shelf }),\r\n  }).then((res) => res.json());\r\n\r\nexport const search = (query, maxResults) =>\r\n  fetch(`${api}/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ query, maxResults }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books);\r\n","import { useState } from \"react\";\r\n\r\nconst Book = ({ book, onUpdate }) => {\r\n  const [state, setState] = useState(book.shelf ? book.shelf : \"none\");\r\n  const handleChangeState = (e) => {\r\n    const value = e.target.value;\r\n    setState(value);\r\n\r\n    onUpdate(book, value);\r\n  };\r\n\r\n  return (\r\n    <li>\r\n      <div className=\"book\">\r\n        <div className=\"book-top\">\r\n          <div\r\n            className=\"book-cover\"\r\n            style={{\r\n              width: 128,\r\n              height: 193,\r\n              backgroundImage: `url(\"${\r\n                book.imageLinks.thumbnail && book.imageLinks.thumbnail\r\n              }\")`,\r\n            }}\r\n          ></div>\r\n          <div className=\"book-shelf-changer\">\r\n            <select onChange={handleChangeState} value={state}>\r\n              <option value=\"none\" disabled>\r\n                Move to...\r\n              </option>\r\n              <option value=\"currentlyReading\">Currently Reading</option>\r\n              <option value=\"wantToRead\">Want to Read</option>\r\n              <option value=\"read\">Read</option>\r\n              <option value=\"none\">None</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div className=\"book-title\">{book.title}</div>\r\n        <div className=\"book-authors\">{book.authors && [...book.authors]}</div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Book;\r\n","import Book from \"./Book\";\r\n\r\nconst BookShelf = ({ shelf, books, onUpdate }) => {\r\n  const updatedBooks = [];\r\n\r\n  return (\r\n    <div className=\"bookshelf\">\r\n      <h2 className=\"bookshelf-title\">{shelf}</h2>\r\n      <div className=\"bookshelf-books\">\r\n        <ol className=\"books-grid\">\r\n          {updatedBooks.concat(books).map((book) => {\r\n            if (shelf === book.shelf) {\r\n              return <Book book={book} key={book.id} onUpdate={onUpdate} />;\r\n            }\r\n\r\n            return \"\";\r\n          })}\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default BookShelf;\r\n","import BookShelf from \"./bookShelf\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Home = ({ books, onUpdate }) => {\r\n  return (\r\n    <div className=\"list-books\">\r\n      <div className=\"list-books-title\">\r\n        <h1>MyReads</h1>\r\n      </div>\r\n      <div className=\"list-books-content\">\r\n        <div>\r\n          <BookShelf\r\n            shelf=\"currentlyReading\"\r\n            books={books}\r\n            onUpdate={onUpdate}\r\n          />\r\n          <BookShelf shelf=\"wantToRead\" books={books} onUpdate={onUpdate} />\r\n          <BookShelf shelf=\"read\" books={books} onUpdate={onUpdate} />\r\n\r\n          <div className=\"open-search\">\r\n            <Link to=\"/search\">Add a book</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import Book from \"./Book\";\r\n\r\nconst SearchList = ({ res, onUpdate }) => {\r\n  return (\r\n    <ol className=\"books-grid\">\r\n      {res.map((book) => {\r\n        if (book) {\r\n          return <Book book={book} key={book.id} onUpdate={onUpdate} />;\r\n        }\r\n\r\n        return \"\";\r\n      })}\r\n    </ol>\r\n  );\r\n};\r\n\r\nexport default SearchList;\r\n","import { Link } from \"react-router-dom\";\r\nimport SearchList from \"./SearchList\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\nimport { useState } from \"react\";\r\n\r\nconst Search = ({ onUpdate, books }) => {\r\n  const [newArray, setNewArray] = useState([]);\r\n  const handleSearch = (value) => {\r\n    const getSearch = async () => {\r\n      if (value.target.value) {\r\n        const res = await BooksAPI.search(value.target.value);\r\n        if (!res.error) {\r\n          res.map((book) => {\r\n            books.map((b) => {\r\n              if (book.id === b.id) {\r\n                book.shelf = b.shelf;\r\n              }\r\n              return \"\";\r\n            });\r\n            return \"\";\r\n          });\r\n          setNewArray(res.filter((r) => r.imageLinks && r.title && r.authors));\r\n        } else {\r\n          setNewArray([]);\r\n        }\r\n      } else {\r\n        setNewArray([]);\r\n      }\r\n    };\r\n\r\n    getSearch();\r\n  };\r\n\r\n  return (\r\n    <div className=\"search-books\">\r\n      <div className=\"search-books-bar\">\r\n        <Link to=\"/\" className=\"close-search\">\r\n          Close\r\n        </Link>\r\n        <div className=\"search-books-input-wrapper\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search by title, author, or ISBN\"\r\n            onChange={handleSearch}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"search-books-results\">\r\n        <SearchList res={newArray} onUpdate={onUpdate} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import \"./App.css\";\r\nimport { Route, Routes } from \"react-router-dom\";\r\nimport * as BooksAPI from \"./BooksAPI\";\r\nimport Home from \"./Home\";\r\nimport Search from \"./Search\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction App() {\r\n  const [books, setBooks] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getBooks = async () => {\r\n      const res = await BooksAPI.getAll();\r\n      setBooks(res);\r\n    };\r\n\r\n    getBooks();\r\n  }, []);\r\n\r\n  const handleUpdateBooks = (book, shelf) => {\r\n    const getUpdatedBooks = async () => {\r\n      await BooksAPI.update(book, shelf);\r\n      const res = await BooksAPI.get(book.id);\r\n      const newArray = books.filter((b) => b.id !== res.id);\r\n      setBooks(newArray.concat(res));\r\n    };\r\n\r\n    getUpdatedBooks();\r\n  };\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Routes>\r\n        <Route\r\n          exact\r\n          path=\"/search\"\r\n          element={<Search onUpdate={handleUpdateBooks} books={books} />}\r\n        />\r\n\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          element={<Home books={books} onUpdate={handleUpdateBooks} />}\r\n        />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}